<html>
    <head>
        <title>文件base64编码</title>
        <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
        <script type="text/javascript">
            function copyToClipboard(str) {
                let el = document.createElement('textarea');
                el.value = str;
                el.setAttribute('readonly', '');
                el.style.position = 'absolute';
                el.style.left = '-9999px';
                document.body.appendChild(el);
                el.select();
                document.execCommand('copy');
                document.body.removeChild(el);
            }
    
            function filesUpload(){
                let file = $("#sfile")[0].files[0]; //获取input file的files文件数组;
                let reader = new FileReader();  // new一个FileReader实例
                reader.readAsDataURL(file);  // 读取文件
                reader.onloadend = function () {
                    copyToClipboard(this.result);
                    alert("结果已拷贝✅");
                     setTimeout(function(){
                        window.location.reload();
                     },2000);
                };
            }
        </script>
    </head>
    <body>
        <p>请先选择文件：</p>
        <input type="file" id="sfile" onchange="filesUpload()"/>
    </body>
</html>
